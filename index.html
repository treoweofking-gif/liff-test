<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>社内ポータル</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

<script>
  async function initLiff() {
    await liff.init({ liffId: "2008866562-UCmyNOOE" });

    if (!liff.isLoggedIn()) {
      liff.login();
      return;
    }

    const profile = await liff.getProfile();
    console.log("LINE userId:", profile.userId);

    const res = await fetch(
      "https://https://liff-api.onrender.com/api/me?line_user_id=" + profile.userId
    );
    const data = await res.json();

    console.log("API response:", data);
  }

  initLiff();
</script>
</body>
</html>
